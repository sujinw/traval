
{% extends "layout.html" %}

{% block content %}
<section>
	<div class="page_title">
		<h2 class="fl">管理权限节点列表</h2>
		<a href="javascript:node_access();" class="fr top_rt_btn">配置权限</a>
		<a href="<gzphp> echo U('addNode')<gz/php>" class="fr top_rt_btn">添加节点</a>
	</div>
	<table class="table table-striped table-hover">
        <thead>
        <tr>
            <th width="10%">ID</th>
            <th width="20%">节点名称</th>
            <th width="30%">节点描述</th>
            <th width="10%">节点状态</th>
            <th width="30%">操作</th>
        </tr>
        </thead>
        <tbody>
        <gz foreach from=$node item=app>
        <tr>
            <td><gz$app.id></td>
            <td><span class="inputbox"></span><gz$app.name></td>
            <td><gz$app.remark></td>
            <td><gzif $app.status eq 1>正常<gzelse>禁用<gz/if></td>
            <td>
                <a href="<gz$smarty.const.__APP__>?m=admin&c=adminUser&a=AddNode&pid=<gz$app.id>&level=2" class="btn btn-success btn-xs"><span class="glyphicon glyphicon-plus"></span> 添加控制器</a>
                <a href="#" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-edit"></span> 编辑</a>
                <a href="#" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> 删除</a>
            </td>
        </tr>
        <gzforeach from=$app.child item=action>
        <tr>
            <td><gz$action.id></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─<span class="inputbox"><input type="checkbox" value="<gz$app.id>_<gz$action.id>"/></span><gz$action.name></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─<gz$action.remark></td>
            <td><gzif $action.status eq 1>正常<gzelse>禁用<gz/if></td>
            <td>
                <a href="<gz$smarty.const.__APP__>?m=admin&c=adminUser&a=AddNode&pid=<gz$action.id>&level=3" class="btn btn-success btn-xs"><span class="glyphicon glyphicon-plus"></span> 添加动作方法</a>
                <a href="#" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-edit"></span> 编辑</a>
                <a href="#" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> 删除</a>
            </td>
        </tr>
        <gzforeach from=$action.child item=method>
        <tr>
            <td><gz$method.id></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─<span class="inputbox"><input type="checkbox" value="<gz$app.id>_<gz$action.id>_<gz$method.id>"/></span><gz$method.name></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─<gz$method.remark></td>
            <td><gzif $method.status eq 1>正常<gzelse>禁用<gz/if></td>
            <td>
                <a href="#" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-edit"></span> 编辑</a>
                <a href="#" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> 删除</a>
            </td>
        </tr>
        <gz/foreach>
        <gz/foreach>
        <gz/foreach>
       </tbody>
    </table>
</section>
<script>
$(function(){
	
	
})
</script>
{% endblock %}